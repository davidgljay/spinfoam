(this.webpackJsonpspinfoam=this.webpackJsonpspinfoam||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(8),o=n.n(i),l=(n(14),n(15),n(1)),c=n(2),s=n(4),h=n(3),u=n(5),p=n(6),g=Math.sin,d=Math.cos,v=Math.PI,m=function(t,e){return[0,1,2,3,4,5].reduce((function(n,r){var a=v/180*(60*r);return n+" ".concat(t.x+e*d(a),",").concat(t.y+e*g(a))}),"")},f=function(t,e,n,r,a){return t===n[0]&&e===n[1]?Object(p.a)({},y.hexagon,{},y.active):Object(p.a)({},y.hexagon,{opacity:.02*r[t][e]})},w=function(t){var e=t.width,n=t.height,r=t.size,i=t.grid,o=t.active,l=t.trail;t.turns;return a.a.createElement("div",null,a.a.createElement("svg",{id:"visualization",width:e,height:n,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},i.map((function(t,e){return t.map((function(t,n){return l[e][n]>0&&a.a.createElement("polygon",{key:"".concat(e,",").concat(n),points:m({x:r*(e+1)*1.5,y:r*(e%2+1+1.75*(n+1))},r),style:f(e,n,o,l)})}))}))))},y={hexagon:{fill:"lightgrey",stroke:"purple",strokeWidth:2},active:{fill:"purple"}},E=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(s.a)(this,Object(h.a)(e).call(this,t))).getshape=function(t){var e=n.props,r=e.width,a=e.height,i=[[0,a]],o=0;o=t.reduce((function(t){return o>t?t:o}),0);for(var l=0;l<t.length;l++)i.concat([a-t[l]/o*-1,r/100*l]);return i.map((function(t){return t.join(",")})).join(" ")},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props,e=t.trailEntropyLog,n=t.width,r=t.height;return a.a.createElement("div",null,a.a.createElement("svg",{id:"entropGraph",width:n,height:r,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.a.createElement("polygon",{points:this.getshape(e),style:b.entropyGraph})))}}]),e}(r.Component),b={entropyGraph:{fill:"purple"}},x=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(s.a)(this,Object(h.a)(e).call(this,t))).state={timer:null,active:[n.props.size/2,n.props.size/2],grid:[],trail:[],turns:0,trailEntropyLog:[0],gridEntropy:0},n.transitions=[[-1,-1],[0,-1],[0,1],[1,1],[1,0],[-1,0],[0,0]],n.setgrid=function(t){for(var e=[],r=[],a=0,i=0;i<t;i++){e[i]=[],r[i]=[];for(var o=0;o<t;o++){e[i][o]=[],r[i][o]=0;for(var l=0,c=0;c<7;c++)e[i][o][c]=Math.random(),l+=e[i][o][c];for(c=0;c<7;c++)e[i][o][c]=e[i][o][c]/l,a+=e[i][o][c]*Math.log(e[i][o][c])}}n.setState({grid:e,trail:r,gridEntropy:a})},n.jump=function(){for(var t,e=n.state,r=e.active,a=e.grid,i=e.trail,o=e.turns,l=e.trailEntropyLog,c=a[r[0]][r[1]],s=Math.random(),h=0,u=0;u<c.length;u++)if((h+=c[u])>s){t=u;break}var p=n.transitions[t],g=a.length,d=[(r[0]+p[0]+g)%g,(r[1]+p[1]+g)%g];if(i[d[0]][d[1]]+=1,o%100===1){var v=0;for(u=0;u<i.length;u++)for(var m=0;m<i[u].length;m++)v+=i[u][m]>0?i[u][m]/o*Math.log(i[u][m]/o):0;n.setState({trailEntropyLog:l.concat(v)})}n.setState({active:d,trail:i,turns:o+1})},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.size;this.setgrid(e),this.setState({timer:setInterval((function(){return t.jump()}),50)})}},{key:"componentWillUnmount",value:function(){this.state.timer()}},{key:"render",value:function(){var t=this.state,e=t.active,n=t.grid,r=t.trail,i=t.trailEntropyLog,o=t.turns;return a.a.createElement("div",null,a.a.createElement("div",{style:j.header},a.a.createElement("h2",null,"A Model Evolutionary System"),a.a.createElement("div",{style:j.headerText},"The purple hex traverses a landscape with randomly defined probabilities.",a.a.createElement("br",null))),a.a.createElement(w,{width:800,height:800,size:7,active:e,grid:n,trail:r,turns:o}),i&&a.a.createElement(E,{width:800,height:100,trailEntropyLog:i}))}}]),e}(r.Component),j={header:{textAlign:"center",maxWidth:800},headerText:{fontSize:16}};var k=function(){return a.a.createElement(x,{size:50})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},9:function(t,e,n){t.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.7f13d5ed.chunk.js.map